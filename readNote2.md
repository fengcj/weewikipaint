day1007

https://github.com/zhiqiang21/blog/issues/29

高清屏概念解析与检测设备像素比的方法

1) 高清屏是指Retina屏幕。其window.devicePixelRatio（设备像素比=屏幕物理像素/设备独立像素
）的值大于1，有1.5，也有2的。
2）文章中说高清屏是4个像素来显示普通屏的1个像素：
    “普通屏幕的1个CSS像素点对应4个高清屏幕的像素点，1个分成4个，不够分的情况下，颜色会取近似值。所以在高清屏上，在普通屏幕正常显示的图片会变的模糊。”
    “这就是为什么我们现在的设计稿为什么都会设计成2倍稿的原因。为了兼容高清屏幕的图片高清晰显示，我们的裁切图是2倍图，在css中使用的时候会使用css压缩2倍。比如，我们有一个icon.png的文件，切图大小是 200x200 。而我们使用的时候却是使用css设置其大小为100x100。这样基本上就会保证普通屏和高清屏显示一致。”
    “css压缩会使图片边缘的锐度减小。其实，在我们的开发过程中完全没有必要去在意这里的这个细节问题，图像边缘的锐度也是在 PS 中放大了好多倍以后才看出来的，如果是人的肉眼是根本看不出来的。”
3）例子是iPhone3s 和iPhone4（二者屏幕大小一样）：
所以在iphone3gs上屏幕的物理像素位320像素，独立像素也是320像素。因此window.devicePixelRatio=1。

而对于iphone4s来说，当屏幕纵向显示的时候，屏幕的物理像素是640像素，而视区宽度不是640像素而是320像素。

这样在iphone4s上，屏幕的物理像素为640像素，独立像素还是320像素，因此window.devicePixelRatio=2。

设备的物理像素（也叫设备像素），就是屏幕显示颜色的最小的物理单元，也就是我们经常看到的手机分辨率所描述的数字；
设备独立像素（与密度无关的像素），就是我们手机的实际的视窗口的大小。具体来说可以认为是计算机坐标系统中得一个点，这个点代表一个可以由程序使用的虚拟像素(比如: css像素)，然后由相关系统转换为物理像素。

4）我们平时在开发过程中，对于我们使用的图片怎么适配高清屏和普通屏。

原理也很简单，就是根据不同的设备像素比来加载不同的图片:

针对普通显示屏(devicePixelRatio = 1.0、1.3)，加载一张1倍的图片
针对高清显示屏(devicePixelRatio >= 1.5、2.0、3.0)，加载一张2倍大的图片

具体方法：
1.Media Queries的解决方案
2.JavaScript的解决方案
3.使用SVG矢量图像

========================

更多：
1）https://segmentfault.com/a/1190000007081489   //移动开发
2）https://segmentfault.com/a/1190000007082623   //DOM事件
3）http://www.codeceo.com/article/java-concurrenthashmap.html  // Java




